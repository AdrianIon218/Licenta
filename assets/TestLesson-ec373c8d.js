import{r as d,a as t,j as W}from"./index-244aca63.js";import{C as f,M as h,W as k}from"./LessonContainer-8c08c138.js";import{N as I,a as l}from"./Notfication-3e45f24f.js";import E from"./GrammerExercises-ca81b453.js";import"./commonInterfaces-83a6a30d.js";const N=e=>{e.sort((o,a)=>.5-Math.random())};function M(e){const[o,a]=d.useState({progressBar:0,score:0,wordIndex:0}),[w,c]=d.useState(!1),[g,m]=d.useState([]),u={correctAnswear:()=>{a(r=>{const s=r.progressBar+50/e.unkwonWords.length;return e.setProgressBar(s),{progressBar:s,score:r.score+1,wordIndex:r.wordIndex<e.unkwonWords.length?r.wordIndex+1:e.unkwonWords.length}}),c(!1)},wrongAnswear:()=>{a(r=>({...r,score:r.score-1})),c(!0)}},x=()=>{a(r=>{const s=r.progressBar+50/e.unkwonWords.length;return e.setProgressBar(s),{progressBar:s,score:r.score-1,wordIndex:r.wordIndex<e.unkwonWords.length?r.wordIndex+1:e.unkwonWords.length}}),c(!1)};return d.useEffect(()=>{N(e.unkwonWords);const r=e.unkwonWords.map(n=>n.wordName),s=e.unkwonWords.map(n=>n.translation);m(e.unkwonWords.map((n,i)=>{switch(i%3){case 1:return t(k,{...n,...u,skipExercise:x},i);case 0:return t(h,{...n,...u,wordNames:r},i);default:return t(f,{...n,...u,wordsTranslation:s},i)}}))},[e.unkwonWords]),W("div",{className:"new_words_ex",children:[w&&t(I,{message:"Răspuns greșit !",type:l.ERROR,deleteNotification:()=>c(!1)}),o.wordIndex<e.unkwonWords.length&&g[o.wordIndex],o.wordIndex===e.unkwonWords.length&&t(E,{currentScore:o.score,previousExercisesNum:e.unkwonWords.length,lessonId:e.lessonId,addProgress:e.setProgressBar,toFinish:e.toFinish})]})}export{M as default};
