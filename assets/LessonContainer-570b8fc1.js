import{j as i,a as s,r as t,_,F as g,u as m}from"./index-918dac5c.js";function v({progressStatus:e}){return i("div",{className:"progress-bar__box",children:[s("div",{className:"progress-bar__loading",style:{width:`${e}%`}}),s("div",{className:"progress-bar__grid-half"})]})}function b(){const e=new SpeechSynthesisUtterance;return e.text="Ich füllte möbel , weil ich stärke kopfschmerzen hatte",e.lang="de-De",t.useEffect(()=>{const n=window.speechSynthesis.getVoices().find(o=>o.voiceURI.includes("(Natural) - German"));n?(e.voice=n,e.rate=1,e.pitch=2):(e.rate=1,e.pitch=.2,e.volume=1),window.speechSynthesis.speak(e),console.log(speechSynthesis.getVoices())},[e]),s("div",{children:"LessonView"})}const I=t.lazy(()=>_(()=>import("./StartView-f035c30a.js"),["assets/StartView-f035c30a.js","assets/index-918dac5c.js","assets/index-ffaf9618.css"]));function N(e){const[n,o]=t.useState(0),a=()=>{e.triggerTransition(),setTimeout(()=>o(1),450)};return i(g,{children:[n===0&&s(I,{title:e.lessonTitle,startClickHandler:a}),n===1&&s(b,{})]})}function S(e){const[n,o]=t.useState(!1),a=m(),c=t.useCallback(()=>{sessionStorage.setItem("lessonId",""),sessionStorage.setItem("moduleId",""),sessionStorage.setItem("lessonTitle",""),o(!0),setTimeout(()=>a(-1),410)},[]),l=t.useCallback(()=>{o(!0),setTimeout(()=>e.closeBk(),350)},[]);return s("div",{className:`exit_message__blackdrop ${n&&"exit_message__blackdrop--close"}`,children:i("div",{className:"exit_message__box flex-column--centered",children:[s("div",{className:"btn_exit_ctn",children:s("div",{className:"btn_exit",onClick:l,children:" × "})}),s("h3",{children:" Sigur dorești să închizi lecția ? "}),i("div",{className:"flex-row--centered",children:[s("div",{className:"btn btn--white lesson-btn",onClick:c,children:" Da "}),s("div",{className:"btn btn--blue lesson-btn",onClick:l,children:" Nu "})]})]})})}function p(){const[e,n]=t.useState(!1);return i(g,{children:[e&&s(S,{closeBk:()=>n(!1)}),s("div",{className:"lesson__exit",children:s("button",{className:"lesson__exit__btn",onClick:()=>{n(!0)},children:"×"})})]})}function k(e,n){const o=t.useRef(null);return t.useImperativeHandle(n,()=>({trigger:()=>{o.current.classList.add("lesson-transition--animated")}}),[]),s("div",{className:"lesson-transition",onAnimationEnd:()=>{o.current.classList.remove("lesson-transition--animated")},ref:o})}const x=t.forwardRef(k);function C(){const[e,n]=t.useState({lessonId:-1,moduleId:-1,lessonTitle:""}),[o,a]=t.useState(0),c=m(),l=t.useRef({trigger:()=>{}});t.useEffect(()=>{const r=sessionStorage.getItem("lessonId"),d=sessionStorage.getItem("moduleId"),u=sessionStorage.getItem("lessonTitle");r&&d&&u?n({lessonId:+r,moduleId:+d,lessonTitle:u}):c("/Licenta/PageNotFound")},[]);const f=t.useCallback(r=>{r>=0&&r<=100&&a(r)},[]),h=t.useCallback(()=>{l.current.trigger()},[]);return i("section",{className:"lesson-section",children:[i("div",{className:"lesson-ctn",children:[s(N,{...e,setProgressBar:f,triggerTransition:h}),s(x,{ref:l})]}),s("div",{className:"lesson__progress-bar",children:s(v,{progressStatus:o})}),s(p,{})]})}export{C as default};
