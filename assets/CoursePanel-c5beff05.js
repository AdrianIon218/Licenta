var p=Object.defineProperty;var S=(s,e,t)=>e in s?p(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var h=(s,e,t)=>(S(s,typeof e!="symbol"?e+"":e,t),t);import{r as a,j as d,a as r}from"./index-1f5ed3d6.js";import{C as f,L as n,a as v}from"./CoursePlan-7658672e.js";import{a as R}from"./axios-707ed124.js";var l=(s=>(s[s.NO_PROGRESS=0]="NO_PROGRESS",s[s.STAR_1=1]="STAR_1",s[s.STAR_2=2]="STAR_2",s[s.STAR_3=3]="STAR_3",s))(l||{});function _({children:s,status:e}){const{courseLvl:t}=a.useContext(f),u=o=>{o.stopPropagation()};return d("div",{className:"course-lesson",children:[r("button",{className:`course-lesson-btn course-lesson-btn--${n[t]}`,onClick:u,children:s}),d("div",{className:`course-status ${t<n.B1?"course-status--A":t>n.B2?"course-status--C":"course-status--B"}`,children:[r("i",{className:`fa fa-star ${e!==0&&"course-status--checked"}`}),r("i",{className:`fa fa-star ${e===3&&"course-status--checked"}`}),r("i",{className:`fa fa-star ${e>1&&"course-status--checked"}`})]})]})}function C({title:s,activeModule:e,index:t,closeOtherModules:u}){const[o,m]=a.useState(!1),c=n[a.useContext(f).courseLvl],i=()=>{m(N=>(N===!1&&u(),!N))};return a.useEffect(()=>{e!==t&&m(!1)},[e]),d("div",{className:"course__module flex-element",tabIndex:t,children:[d("div",{className:"course__module__title u-center-text",onClick:i,children:[s.str,r("span",{className:`course__module__title__arrow course__module__title__arrow--${c}`,children:r("i",{className:` ${o?"fas fa-chevron-up":"fas fa-chevron-down"} `})})]}),r("div",{className:`course__module__ctn ${o&&"course__module__ctn--open"}`,children:d("div",{className:`flex-column--start course__module__ctn__list course__module__ctn__list--${c} ${o&&"course__module__ctn__list--open"}`,children:[r(_,{status:l.NO_PROGRESS,children:"Buna ziua"}),r(_,{status:l.STAR_1,children:"Buna ziua"}),r(_,{status:l.STAR_2,children:"Buna ziua"}),r(_,{status:l.STAR_3,children:"Buna ziua"}),r(_,{status:l.STAR_1,children:"Buna ziua"})]})})]})}class x{constructor(e,t){h(this,"_str","Not available");h(this,"setStr",e=>{const t=e.length;t>0&&t<=this.dimension?this._str=e:t===0?this._str="Not available":this._str=e.substring(0,this.dimension)});this.dimension=t,this.setStr(e)}set str(e){this.setStr(e)}get str(){return this._str}}function $({level:s}){const[e,t]=a.useState(-1);a.useContext(f).setCourseLvl(s);const[u,o]=a.useState([]);a.useEffect(()=>{R.get("http://localhost:5000/course_modules",{params:{level:n[s]}}).then(c=>{o(c.data)})},[]);const m=a.useMemo(()=>u.map((c,i)=>r(C,{title:new x(c.title,v),index:i,activeModule:e,closeOtherModules:()=>t(i)},i)),[u,e]);return r("div",{className:`course-plan  course-plan--${n[s]}`,children:r("div",{className:"flex-column--centered",children:m})})}export{$ as default};
