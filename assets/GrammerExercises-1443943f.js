import{r as c,j as u,F as g,a as t,R as x}from"./index-093edcc3.js";import{a as h}from"./axios-707ed124.js";import{N as E,a as N}from"./Notfication-33a7a85e.js";function w(r){const[n,a]=c.useState(!1),[o,l]=c.useState(!1),i=s=>{s.currentTarget.value==="true"===r.structure.state?r.correctAnswear():(a(!0),l(!0))},d=()=>{setTimeout(()=>r.wrongAnswear(),200)};return u(g,{children:[n&&t(E,{message:`Propoziția este ${r.structure.state?"correctă ":"incorectă "}!`,type:N.ERROR,deleteNotification:()=>a(!1)}),u("div",{className:"flex-column--centered exercise",children:[t("h3",{children:"Este corectă propoziția din punct de vedere gramatical ?"}),t("h4",{children:r.structure.sentence}),u("div",{children:[t("button",{value:"flase",disabled:o,onClick:i,className:"false-btn",children:"Falsch"}),t("button",{value:"true",disabled:o,onClick:i,className:"true-btn",children:"Richtig"})]}),o&&u("div",{className:"flex-column--centered",children:[r.structure.correct_sentence&&t("h4",{className:"correct_sentence",children:`Varianta corectă : ${r.structure.correct_sentence}`}),t("button",{className:"submitBtn",onClick:d,children:"Următorul exercițiu"})]})]})]})}function b(r){const[n,a]=c.useState({score:0,currentExIndex:0,progressBar:50}),[o,l]=c.useState([]);c.useEffect(()=>{r.addProgress(n.progressBar)},[n.progressBar]);const i=s=>{a(e=>({score:e.score+1,currentExIndex:e.currentExIndex+1,progressBar:e.progressBar+s}))},d=s=>{a(e=>({score:e.score-1,currentExIndex:e.currentExIndex+1,progressBar:e.progressBar+s}))};return c.useEffect(()=>{h.post("http://localhost:5000/lessons/grammer/getExercises",{lessonId:r.lessonId}).then(s=>{const e=s.data;l(e.map((m,f)=>t(x.Fragment,{children:m.type==="true_false"&&t(w,{structure:m.structure,correctAnswear:()=>i(50/e.length),wrongAnswear:()=>d(50/e.length)})},f)))})},[r.lessonId]),t(x.Fragment,{children:o[n.currentExIndex]})}export{b as default};
